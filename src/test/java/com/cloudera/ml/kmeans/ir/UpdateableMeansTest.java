package com.cloudera.ml.kmeans.ir;

import static org.junit.Assert.assertEquals;

import java.nio.ByteBuffer;

import org.junit.Test;

import com.cloudera.ml.kmeans.Mean;
import com.cloudera.ml.kmeans.Means;
import com.cloudera.ml.kmeans.Point;

public class UpdateableMeansTest {

	@Test
	public void test() {
		Point zero = new Point(0,0);
		Point one = new Point(1,1);
		
		Mean m1 = new Mean(zero);
		Mean m2 = new Mean(zero, one);
		
		Means means = new Means(m1,m2);
	
		UpdateableMeans um = new UpdateableMeans();
		um.set(means);
		
		ByteBuffer buffer = um.toBytes();
		
		UpdateableMeans um2 = new UpdateableMeans();
		um2.fromBytes(buffer);

		assertEquals(um.get(), um2.get());
		
	}

}
